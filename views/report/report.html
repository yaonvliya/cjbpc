<!DOCTYPE html>
<html class="report-bg">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="format-detection" content="telephone=no,email=no,address=no"/>
	<meta name="renderer" content="webkit">
	<title>运营报告-车聚宝</title>
	<link rel="shortcut icon" href="../../img/favicon.ico"/>
	
	<script src="../../js/ismobile.js"></script>
	<link rel="stylesheet" type="text/css" href="../../plugins/swiper/swiper.min.css"/>
	<link rel="stylesheet" type="text/css" href="../../css/base.css"/>
	<link rel="stylesheet" type="text/css" href="../../css/index.css"/>	
	<style type="text/css">
		body{
			color: #FFFFFF;
		}
		.swiper-slide{
			background: #EEEEEE;
		}
		#ratio1,#main{
			margin-top: -58px;
    		margin-left: 8px;
		}
		.slide-bg {
		   	width: 291px;
		    height: 100%;
		    margin: 0 auto;
		    background-image: url(../../img/about/report-bg.png);
		    background-size: 100%;
		    background-repeat: no-repeat;
		    padding-top: 56px;
		}
		.myChart2{
			margin-top: -55px;;
		}
		.myChart3{
			margin-top: -65px;
		}
		.slide-title{
			border-bottom: 1px solid #eee;
		    margin: 0 24px;
		    line-height: 33px;
		}
		.slide-title .span-1{
			display: inline-block;
		    width: 22px;
		    height: 22px;
		    line-height: 23px;
		    text-align: center;
		    color: #328cfa;
		    font-size: 10px;
		    background-color: #fff;
		    border-radius: 50%;
		    margin-right: 8px;
		}
		.slide-title .span-2{
			font-size: 12px;
		}
		.row-module{
			margin: 29px 24px 0;
		    background-color: rgba(255, 255, 255, 0.1);
		    padding: 12px 0 9px 8px;
		}
		.row-module .iconfont{
			float: left;
		    color: #fff;
		    font-size: 14px;
		    margin-left: 18px;
		}
		.row-module .p1{
			font-size: 12px;
		}
		.row-module .p2{
			font-size: 16px;
		}
		.row-module p{
			padding-left: 54px;
		}
		.slide5-1{
			margin: 30px 19px 0;
    		line-height: 28px;
		}
		.slide5-1 i{
			display: inline-block;
		    width: 6px;
		    height: 6px;
		    border-radius: 50%;
		    background-color: #fff;
		    margin-right: 7px;
		    vertical-align: middle;
		}
		.tsys .p1{
			margin-left: 17px;
    	font-size: 14px;
		}
		.tsys .p2{
			margin-left: 31px;
    	font-size: 18px;
		}
		.report-wrap h5{
			margin: 5px 19px 0;
    		line-height: 28px;
    		font-size: 10px;
		}
		.slide5-3{
			margin: 5px 30px 0;
			height: 26px;
		}
		.slide5-3 li {
		    line-height: 26px;
		    border-bottom: 1px solid #9EBBFF;
		    font-size: 11px;
    	}
    	.slide5-3 i{
    		display: inline-block;
		    width: 15px;
		    height: 15px;
		    line-height: 13px;
		    text-align: center;
		    border-radius: 50%;
		    vertical-align: middle;
		    margin-right: 29px;
		    font-style: normal;
    	}
    	.slide5-3 span.r {
		    float: right;
		}
		.slide5-3 span {
		    vertical-align: middle;
		}
		
		.slide5-3 i.i3 {
		    background-color: #ffc468;
		}
		.slide5-3 i.i1 {
		    background-color: #ff522a;
		}
		.slide5-3 i.i2 {
		    background-color: #ff6d6d;
		}
		.genderstyle{
			font-size: 10px;
		    text-align: left;
		    margin-left: 38px;
		}
		.slide-bg-div{
			margin-left: 35px;
		}
		.safe-operation{
			position: relative;
		}
		.safe-operation img{
		    width: 168px;
		    height: 143px;
		    margin: 10px auto;
		    display: block;
		    margin-bottom: 32px;
		}
		.safe-operation-text{
		    width: 173px;
		    height: 35px;
		    background: rgba(255,255,255,1);
		    border-radius: 22px;
		    text-align: center;
		    line-height: 35px;
		    font-size: 18px;
		    font-family: PingFang-SC-Bold;
		    font-weight: bold;
		    color: rgba(50,140,250,1);
		    margin: 10px auto;
		    position: absolute;
		    top: 117px;
		    left: 54px;
		    z-index: 99;
		}
		.money-detail{
			width: 240px;
		    height: 30px;
		    line-height: 30px;
		    border-bottom: 1px solid #9EBBFF;
		    font-size: 10px;
		    font-family: PingFang-SC-Medium;
		    font-weight: 500;
		    color: rgba(255,255,255,1);
		    margin: 0 auto;
		}
		.slide-bg .mui-progressbar {
		    width: 84%;
		    height: 15px;
		    background: rgba(232,237,243,1);
		    border-radius: 20px;
		    margin: 0 auto;
		    position: relative;
		    overflow: hidden;
		    z-index: 1;
		    margin-top: 10px;
		}
		.slide-bg .mui-progressbar span {
		    border-radius: 20px;
		}
		.mui-progressbar span {
		    position: absolute;
		    top: 0;
		    left: 0;
		    width: 100%;
		    height: 100%;
		    -webkit-transition: 150ms;
		    transition: 150ms;
		    -webkit-transform: translate3d(-100%, 0, 0);
		    transform: translate3d(-100%, 0, 0);
		    background: #007aff;
		}
		.ewm img {
		    width: 140px;
		    margin: 0 auto;
		    display: block;
		}
		.report-wrap .Title {
		    width: 314px;
		    height: 54px;
		    line-height: 54px;
		    text-align: center;
		    background-color: #f7f9ff;
		    margin: 72px auto 0;
		    color: #2b2b2b;
		    font-size: 16px;
		}
	</style>
</head>
<body class="report-bg">

<div class="report-wrap">
	<h5 class="Title">运营报告</h5>
	<div class="swiper-container">
		<div class="swiper-wrapper">
		    <div class="swiper-slide">
		    	<img class="up" src="../../img/arrow-up.gif"/>
		    	<!--<img src="../../img/report/201712/01.png"/>-->
		    	<img class="slide1-1 ani" swiper-animate-effect="" swiper-animate-duration="0.5s" swiper-animate-delay="0s" src="../../img/about/report_01.png"/>
		    	<p class="slide1-2 ani" swiper-animate-effect="bounceInRight" swiper-animate-duration="1.5s" swiper-animate-delay="0.5s" style="margin-top: -377px;width:314px;height:42px;text-align: center;font-size: 36px;color:rgba(255,255,255,1);line-height:35px;"><span v-text='year'></span>年<span v-text='month'></span>月<span></span></p>
		    	<!--<img class="slide1-3 ani" swiper-animate-effect="bounceIn" swiper-animate-duration="1.5s" swiper-animate-delay="2s" src="../../img/about/report_02.png"/>-->
		    	<!--<span class="slide1-4 ani" swiper-animate-effect="zoomInDown" swiper-animate-duration="1.5s" swiper-animate-delay="2s">未发现可疑交易</span>-->
		    </div>
		    <div class="swiper-slide">
		    	<!--<img src="../../img/report/201712/02.png"/>-->
				<div class="slide-bg ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="1s" swiper-animate-delay="0.2s">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">01</span>
		    			<span class="span-2">平台交易数据</span>
		    		</h3>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.7s">
		    			<i class="iconfont icon-shouxinzonge"></i>
		    			<p class="p1">累计交易总额</p>
		    			 <!--v-text="reportData.investMonthAmt.amount"-->
		    			<p class="p2"><!--{{(reportData.investMonthAmt)["amount"]}}-->{{invest_total_amt}}元</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.2s">
		    			<i class="iconfont icon-jiaoyi"></i>
		    			<p class="p1">累计交易笔数</p>
		    			<p class="p2">{{invest_total_num}}笔</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.7s">
		    			<i class="iconfont icon-touzirenrending"></i>
		    			<p class="p1">借款笔数</p>
		    			<p class="p2">{{loan_month_num}}笔</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="3.2s">
		    			<i class="iconfont icon-huankuan"></i>
		    			<p class="p1">借款余额</p>
		    			<p class="p2">{{to_repay_amt}}元</p>
		    		</div>
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<!--<img src="../../img/report/201712/03.png"/>-->
		    	<div class="slide-bg ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="1s" swiper-animate-delay="0.2s">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">01</span>
		    			<span class="span-2">平台交易数据</span>
		    		</h3>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.7s">
		    			<i class="iconfont icon-touzirenxuanzhongbiaoqianlan"></i>
		    			<p class="p1">累计出借人数量</p>
		    			<p class="p2">{{investor_total_num}}人</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.2s">
		    			<i class="iconfont icon-touzirenrending"></i>
		    			<p class="p1">累计借款人数量</p>
		    			<p class="p2">{{loaner_total_num}}人</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.7s">
		    			<i class="iconfont icon-touzirenxuanzhongbiaoqianlan"></i>
		    			<p class="p1">当期出借人数量</p>
		    			<p class="p2">{{investor_month_num}}人</p>
		    		</div>
		    		<div class="row-module ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="3.2s">
		    			<i class="iconfont icon-touzirenrending"></i>
		    			<p class="p1">当期借款人数量</p>
		    			<p class="p2">{{loaner_month_num}}人</p>
		    		</div>
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="1s" swiper-animate-delay="0.2s">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">02</span>
		    			<span class="span-2">业绩数据</span>
		    		</h3>
		    		<div class="ani slide5-1 tsys" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.7s">		    			
		    			<p class="p1"><i></i>{{year}}年{{month}}月交易总额:</p>
		    			<p class="p2">{{invest_month_amt}}元</p>
		    		</div>
		    		<div class="slide5-1 ani tsys" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.2s">
		    			<p class="p1"><i></i>截至{{year}}年{{month}}月30日在投资人数:</p>
		    			<p class="p2">{{investing_user_num}}人</p>
		    		</div>
		    		<div class="slide5-1 ani tsys" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="2.7s">
		    			<p class="p1"><i></i>{{year}}年{{month}}月累计交易笔数:</p>
		    			<p class="p2">{{invest_month_num}}笔</p>
		    		</div>
	    		</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg">
					<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">03</span>
		    			<span class="span-2">用户画像</span>
		    		</h3>	    		
		    		<!--<h5 class="slide5-1"><i></i><span class="va-m">2018年9月投资人分布（前5）</span></h5>
		    		<div class="slide5-2">
		    			<img src="../../img/about/report.png"/>
		    		</div>-->
		    		<h5 class="slide5-1"><i></i><span class="va-m">{{year}}年{{month}}月投资人分布（前10排名）</span></h5>
		    		<ul class="slide5-3" v-for="(item, index) in regionUser" :key="index">
		    			<li><i class="i3" :class="{ i1: index==0,i2:index==1 }">{{index+1}}</i><span>{{item.message}}</span><span class="r">{{NumberUtil.transfPercentage(item.percent)}}%</span></li>
		    		</ul>
		    		
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">03</span>
		    			<span class="span-2">用户画像</span>
		    		</h3>
		    		<h5 class="slide5-1"><i></i><span class="va-m">当月出借人年龄占比</span></h5>
		    		<div id="ratio1" style="height:200px;"></div>
		    		<div class="myChart2">
		    			<h5 class="slide5-1"><i></i><span class="va-m">当月出借人年龄出借金额占比 </span></h5>
		    			<div id="main" style="height:200px;"></div>
		    		</div>
		    		<div class="myChart3">
		    			<div style="float: left;text-align: center;">
		    				<h5 class="slide5-1" style="margin: 15px 20px 0px; color: #FFFFFF;"><i></i><span class="va-m">当月出借人性别占比 </span></h5>
				    		<div id="pie1" style="width:120px;height:60px;margin-bottom: 10px;"></div>
				    		<div class="genderstyle">女 {{investorSexMonthPercentJson.girl}}%</div>
				    		<div class="genderstyle">男 {{investorSexMonthPercentJson.boy}}%</div>
		    			</div>
		    			<div style="float: left;text-align: center;">
		    				<h5 class="slide5-1" style="margin: 17px 0px  0px; color: #FFFFFF;"><i></i><span class="va-m">当月出借金额占比 </span></h5>
				    		<div id="pie2" style="width:120px;height:60px;margin-bottom: 10px;"></div>
				    		<div class="genderstyle">女 {{investorAmountPercentSexMonthJson.girl}}%</div>
				    		<div class="genderstyle">男 {{investorAmountPercentSexMonthJson.boy}}%</div>
		    			</div>
		    		</div>
		    		
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">04</span>
		    			<span class="span-2">借款数据</span>
		    		</h3>
		    		<h5 class="slide5-1"><i></i><span class="va-m">最大十户借款人待还金额占比</span></h5>
		    		<div id="demo1" class="mui-progressbar">
						<span></span>
					</div>
					<h5 class="slide5-1"><i></i><span class="va-m">最大单户借款人待还金额占比</span></h5>
					<div id="demo2" class="mui-progressbar">
						<span></span>
					</div>
					<h5 class="slide5-1"><i></i><span class="va-m">关联关系借款余额</span></h5>
					<div class="slide-bg-div">{{nexus_users_loan_amt}}元</div>
					<h5 class="slide5-1"><i></i><span class="va-m">关联关系借款笔数</span></h5>
					<div class="slide-bg-div">{{nexus_users_loan_num}}笔</div>
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg">
	    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
	    			<span class="span-1">05</span>
	    			<span class="span-2">平台安全</span>
	    		</h3>
	    		<div class="safe-operation">
	    			<img src="../../img/aqyy.png"/>
	    			<div class="safe-operation-text">
	    				安全运营  
	    				<span id="safeOperation">{{safe_operation_days}}</span>
	    				 天
	    			</div>
	    			<div class="money-detail">
	    				累计逾期金额
	    				<span>{{overdue_total_amt}}元</span>
	    			</div>
	    			<div class="money-detail">
	    				累计逾期笔数
	    				<span>{{overdue_total_num}}笔</span>
	    			</div>
	    			<div class="money-detail">
                        	逾期90天以上金额 
	    				<span>{{overdue_ninety_days_amt}}元</span>
	    			</div>
	    			<div class="money-detail">
	    				逾期90天以上笔数
	    				<span>{{overdue_ninety_days_num}}笔</span>
	    			</div>
	    			<div class="money-detail">
	    				累计代偿金额
	    				<span>{{compensatory_total_amt}}元</span>
	    			</div>
	    			<div class="money-detail">
	    				累计代偿笔数
	    				<span>{{compensatory_total_num}}笔</span>
	    			</div>
	    			
	    		</div>
	    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg">
		    		<h3 class="slide-title ani" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.5s" swiper-animate-delay="1.2s">
		    			<span class="span-1">06</span>
		    			<span class="span-2">收费标准</span>
		    		</h3>
		    		<h5 class="slide5-1"><i></i><span class="va-m">提现  {{withdraw_cost_amt}}元/笔</span></h5>
		    		<h5 class="slide5-1"><i></i><span class="va-m">充值手续费由平台承担</span></h5>
		    		<h5 class="slide5-1"><i></i><span class="va-m">债权转让  {{transfer_cost_amt}}元/笔</span></h5>
		    		<h5 class="slide5-1"><i></i><span class="va-m">借款服务费：根据风险定价，具体费率以相关合同为准</span></h5>
		    	</div>
		    </div>
		    <div class="swiper-slide">
		    	<div class="slide-bg ewm">
	    			<img src="../../img/ewm.png" />
	    		</div>
		    </div>
	        
		</div>
	</div>
</div>

<div class="report-right">
	<a class="link1" href="../../index.html"><img src="../../img/logo_.png"/></a>
	<div class="report-qr"><img src="../../img/qr-1.png"/><p>扫一扫，下载APP看月报</p></div>
	<a class="link2" href="../../index.html">返回首页</a>
</div>
<script src="../../plugins/vue/vue.js" ></script>
<script src="../../plugins/swiper/swiper.min.js"></script>
<script src="../../plugins/vue/axios.min.js"></script>
<script src="../../plugins/swiper/swiper.animate.min.js"></script>
<script src="../../plugins/echarts/echarts.common.min.js"></script>
<script src="../../plugins/mui/js/mui.min.js"></script>
<script src="../../properties/host-config.properties.js"></script>
<script src="../../js/api-config.js"></script>
<!--<script src="../../js/business/report.js"></script>-->
<script>
	var mySwiper = new Swiper('.swiper-container', {
		autoplay: false,
		direction: 'vertical'
	});
	dateJson = {
	year: '2019',
	month: '02'
}

new Vue({
	el: '.swiper-container',
	data: {
		reportName:'',
		year:'',
		month:'',
		invest_total_amt:'',
		invest_total_num:'',
  		loan_month_num:'',
  		to_repay_amt:'',
  		investor_total_num:'',
  		loaner_total_num:'',
  		investor_month_num:'',
  		loaner_month_num:'',
  		invest_month_amt:'',
  		investing_user_num:'',
  		invest_month_num:'',
  		regionUser:[],
  		investorAgeMonthPercentJson:{
  			age:[],
  			data:[]
  		},
  		investorAmountPercentAgeMonthJson:{
  			age:[],
  			data:[]
  		},
  		investorSexMonthPercentJson:{
  			boy:'',
  			girl:''
  		},
  		investorAmountPercentSexMonthJson:{
  			boy:'',
  			girl:''
  		},
  		ten_investors_percent_to_repay:'',
  		investor_percent_to_repay:'',
  		nexus_users_loan_amt:'',
  		nexus_users_loan_num:'',
  		safe_operation_days:'0',
  		overdue_total_amt:'0',
  		overdue_total_num:'0',
  		overdue_ninety_days_amt:'0',
  		overdue_ninety_days_num:'0',
  		compensatory_total_amt:'0',
  		compensatory_total_num:'0',
  		withdraw_cost_amt:'0',
  		recharge_cost_amt:'0',
  		transfer_cost_amt:'0',
	},
	created () {
		var self = this;
//		console.log(getQueryString('reportId'))
//		console.log(getQueryString('year'))
//		console.log(getQueryString('month'))
		self.year = getQueryString('year');
		self.month = getQueryString('month');
		self.getOperationReportDetail();
		
	},
	mounted () {
		var _this = this;
//		_this.getOperationReportDetail();
		var mySwiper = new Swiper('.swiper-container', {
			autoplay: false,
			direction: 'vertical',
			onInit: function(swiper){
    			swiperAnimateCache(swiper);
    			swiperAnimate(swiper);
			},
			onSlideChangeEnd: function(swiper){
				swiperAnimate(swiper);
		    }
		})
},
	methods:{
		getOperationReportDetail:function(){
//			console.log(getQueryString('reportId'),"getQueryString('reportId')")
			var _this = this;
			axios({
				method: 'POST',
				url: platformApiUrl.getReportDetail,
				params: {reportId:getQueryString('reportId')}
			}).then(function (res) {
//				console.log(res)
//				console.log(res.data.data)
				if(res.data.code == '20000'){
//					console.log('success')
//					console.log(_this.invest_total_amt);
					_this.canvasEcharth1();
					_this.canvasEcharth2();
					_this.canvasEcharth3();
					_this.canvasEcharth4();
					_this.invest_total_amt = dealNumber(res.data.data.investTotalAmt.amount)
					_this.invest_total_num=res.data.data.investTotalNum
			  		_this.loan_month_num=res.data.data.loanMonthNum
			  		_this.to_repay_amt=dealNumber(res.data.data.toRepayAmt.amount)
			  		_this.investor_total_num=res.data.data.investorTotalNum
			  		_this.loaner_total_num=res.data.data.loanerTotalNum
			  		_this.investor_month_num=res.data.data.investorMonthNum
			  		_this.loaner_month_num=res.data.data.loanerMonthNum
			  		_this.invest_month_amt=dealNumber(res.data.data.investMonthAmt.amount)
			  		_this.investing_user_num=res.data.data.investingUserNum
			  		_this.invest_month_num=res.data.data.investMonthNum;
			  		_this.regionUser =res.data.data.regionUserJson.slice(0,10);
			  		res.data.data.investorAgeMonthPercentJson.forEach(function(item){
//			  			console.log(item)
			  			_this.investorAgeMonthPercentJson.age.push(item.message);
			  			_this.investorAgeMonthPercentJson.data.push(NumberUtil.transfPercentage(item.percent));
			  		})
			  		res.data.data.investorAmountPercentAgeMonthJson.forEach(function(item){
//			  			console.log(item)
			  			_this.investorAmountPercentAgeMonthJson.age.push(item.message);
			  			_this.investorAmountPercentAgeMonthJson.data.push(NumberUtil.transfPercentage(item.percent));
			  		})
			  		res.data.data.investorSexMonthPercentJson.forEach(function(item){
//			  			console.log(item)
			  			if(item.message == '男性'){
			  				_this.investorSexMonthPercentJson.boy = NumberUtil.transfPercentage(item.percent);
			  			}else{
			  				_this.investorSexMonthPercentJson.girl = NumberUtil.transfPercentage(item.percent);
			  			}
			  		})
			  		res.data.data.investorAmountPercentSexMonthJson.forEach(function(item){
//			  			console.log(item)
			  			if(item.message == '男性'){
			  				_this.investorAmountPercentSexMonthJson.boy = NumberUtil.transfPercentage(item.percent);
			  			}else{
			  				_this.investorAmountPercentSexMonthJson.girl = NumberUtil.transfPercentage(item.percent);
			  			}
			  		})
			  		_this.ten_investors_percent_to_repay =NumberUtil.transfPercentage(res.data.data.tenInvestorsPercentToRepay);
			  		_this.investor_percent_to_repay = NumberUtil.transfPercentage(res.data.data.investorPercentToRepay);
			  		mui("#demo1").progressbar({progress:_this.ten_investors_percent_to_repay}).show();
					mui("#demo2").progressbar({progress:_this.investor_percent_to_repay}).show();
					_this.nexus_users_loan_amt = dealNumber(res.data.data.nexusUsersLoanAmt.amount);
					_this.nexus_users_loan_num = res.data.data.nexusUsersLoanNum;
					_this.safe_operation_days=res.data.data.safeOperationDays;
			  		_this.overdue_total_amt=dealNumber(res.data.data.overdueTotalAmt.amount);
			  		_this.overdue_total_num=res.data.data.overdueTotalNum;
			  		_this.overdue_ninety_days_amt=dealNumber(res.data.data.overdueNinetyDaysAmt.amount);
			  		_this.overdue_ninety_days_num=res.data.data.overdueNinetyDaysNum;
			  		_this.compensatory_total_amt=dealNumber(res.data.data.compensatoryTotalAmt.amount);
			  		_this.compensatory_total_num=res.data.data.compensatoryTotalNum;
			  		_this.withdraw_cost_amt=res.data.data.withdrawCostAmt.amount;
			  		_this.recharge_cost_amt=res.data.data.rechargeCostAmt/100;
			  		_this.transfer_cost_amt=dealNumber(res.data.data.transferCostAmt.amount);
				}
			}).catch(function(error){
//				console.log(error);
			})
		},
		canvasEcharth1:function(){
			var _this = this;
//			console.log('canvasEcharth1')
			setTimeout(function(){
			var dom = document.getElementById('ratio1');
			var myChart = echarts.init(dom);
			// 柱状图
			var option = {
				color: '#fff',
			    barWidth: '11px',
			    xAxis: {
			        show: false
			    },
				itemStyle: {
					barBorderRadius: [0, 50, 50, 0]
				},
				grid: {
			    	left: '20',
			    	right: '200'
			    },
			    yAxis: {
			        type: 'category',
			        data: _this.investorAgeMonthPercentJson.age,
			        axisLine: {
			        	lineStyle: {
			        		color: '#fff'
			        	}
			        },
			        position: 'right',
			        offset: 100,
			        axisTick: false
			    },
			    series: [{
			    	type: 'bar',
			        data: _this.investorAgeMonthPercentJson.data,
			        itemStyle: {
									normal: {
										label: {
											show: true, //开启显示
											position: 'right', //在上方显示
											textStyle: { //数值样式
												color: '#ffffff',
												fontSize: 14,
												formatter:'%'
											}
										}
									}
								},
		
			    }]
			};
			if (option && typeof option === "object") {
				myChart.setOption(option, true);
			}
			window.addEventListener('resize',function() {myChart.resize()});
				},500)
		},
		canvasEcharth2:function(){
			var _this = this;
//			console.log('canvasEcharth2')
			setTimeout(function(){
			var doma = document.getElementById('main');
			var myCharta = echarts.init(doma);
			// 柱状图
			var optiona = {
				color: '#fff',
			    barWidth: '11px',
			    xAxis: {
			        show: false
			    },
				itemStyle: {
					barBorderRadius: [0, 50, 50, 0]
				},
				grid: {
			    	left: '20',
			    	right: '200'
			    },
			    yAxis: {
			        type: 'category',
			        data: _this.investorAmountPercentAgeMonthJson.age,
			        axisLine: {
			        	lineStyle: {
			        		color: '#fff'
			        	}
			        },
			        position: 'right',
			        offset: 100,
			        axisTick: false
			    },
			    series: [{
			    	type: 'bar',
			        data: _this.investorAmountPercentAgeMonthJson.data,
			        itemStyle: {
									normal: {
										label: {
											show: true, //开启显示
											position: 'right', //在上方显示
											textStyle: { //数值样式
												color: '#ffffff',
												fontSize: 14,
												formatter:'%'
											}
										}
									}
								},
		
			    }]
			};
			if (optiona && typeof optiona === "object") {
				myCharta.setOption(optiona, true);
			}
			window.addEventListener('resize',function() {myCharta.resize()});
				},500)
		},
		//环形图1
		canvasEcharth3:function(){
			var _this = this;
			setTimeout(function(){
				var domb = document.getElementById('pie1');
				var myChartb = echarts.init(domb);
				var optionb = {
				    legend: {
				        orient: 'vertical',
				        x: 'left',
				        data:[]
				    },
				     color:['#5777FF','#FFC468'],
				    series: [
				        {
				            name:'',
				            type:'pie',
				            radius: ['75%', '45%'],
				            center: ['50%', '50%'],
				            avoidLabelOverlap: false,
				            label: {
				                normal: {
				                    show: false,
				                    position: 'center'
				                },
				                emphasis: {
				                    show: false,
				                    textStyle: {
				                        fontSize: '16',
				                        fontWeight: 'bold'
				                    }
				                }
				            },
				            labelLine: {
				                normal: {
				                    show: false
				                }
				            },
				            data:[
				                {value:_this.investorSexMonthPercentJson.boy, name:'男性'},
				                {value:_this.investorSexMonthPercentJson.girl, name:'女性'},
				
				            ]
				        }
				    ]
				};
				if (optionb && typeof optionb === "object") {
					myChartb.setOption(optionb, true);
				}
				window.addEventListener('resize',function() {myChartb.resize()});
			},500)
		},
		//环形图2
		canvasEcharth4:function(){
			var _this = this;
			setTimeout(function(){
				var domc = document.getElementById('pie2');
				var myChartc = echarts.init(domc);
				var optionc = {
				    legend: {
				        orient: 'vertical',
				        x: 'left',
				        data:[]
				    },
				    color:['#5777FF','#FFC468'],
				    series: [
				        {
				            name:'',
				            type:'pie',
				            radius: ['75%', '45%'],
				            center: ['45%', '50%'],
				            avoidLabelOverlap: false,
				            label: {
				                normal: {
				                    show: false,
				                    position: 'center'
				                },
				                emphasis: {
				                    show: false,
				                    textStyle: {
				                        fontSize: '16',
				                        fontWeight: 'bold'
				                    }
				                }
				            },
				            labelLine: {
				                normal: {
				                    show: false
				                }
				            },
				            data:[
				                {value:_this.investorAmountPercentSexMonthJson.boy, name:'男性'},
				                {value:_this.investorAmountPercentSexMonthJson.girl, name:'女性'},
				
				            ]
				        }
				    ]
				};
				if (optionc && typeof optionc === "object") {
					myChartc.setOption(optionc, true);
				}
				window.addEventListener('resize',function() {myChartc.resize()});
			},500)
		},
	},
	
})


var url1 = platformApiUrl.queryReportList;
var url2 = platformApiUrl.getReportDetail;


function getQueryString(name) { 
    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i"); 
    var r = window.location.search.substr(1).match(reg); 
    if (r != null) return unescape(r[2]); 
    return null; 
}
function dealNumber(money) {
			if(money && money != null) {
				money = String(money);
				var left = money.split('.')[0],
					right = money.split('.')[1];
				right = right ? (right.length >= 2 ? '.' + right.substr(0, 2) : '.' + right + '0') : '.00';
				var temp = left.split('').reverse().join('').match(/(\d{1,3})/g);
				return(Number(money) < 0 ? "-" : "") + temp.join(',').split('').reverse().join('') + right;
			} else if(money === 0) { //注意===在这里的使用，如果传入的money为0,if中会将其判定为boolean类型，故而要另外做===判断
				return '0.00';
			} else {
				return "";
			}
		}
	/**
 * 数字工具类
 */
var NumberUtil = {
	/**
	 * 生成指定位数的随机整数
	 *
	 * @param count-int(位数)
	 * @return number
	 */
	getRandomNum: function (count) {
		var arr = new Array;
		var reNum = "";
		for (var i = 0; i < count; i++) {
			arr[i] = parseInt(Math.random() * 10);
			reNum += String(arr[i]);
		}
		return reNum;
	},
	/**
	 * 生成指定区间的随机整数
	 *
	 * @param min-int(最小值)
	 * @param max-int(最大值（不包含）)
	 * @return number
	 */
	randomInMinToMax: function (min, max) {
		return Math.floor(min + Math.random() * (max - min));
	},
	/**
	 * 验证是否是整数或1-2位小数的数
	 *
	 * @param ource
	 */
	checkTowFloat: function (source) {
		var regex = /^\d+(?:\.\d{1,2})?$/;
		return regex.test(source);
	},
	checkPlusNum: function (source) {
		var regex = /(^[1-9]\d*$)/;
		return regex.test(source);
	},
	checkBankCardNum: function (source) {
		// source = source.replace(/\s/g, "");//去除空格
		var regex = /^\d{16,21}$/g;
		return regex.test(source);
	},
	checkPassWordNum: function (source) {
		var regex = /^\d{6}$/g;
		return regex.test(source);
	},
	/**
	 * 小数转为百分比，百分比保留两位小数。不做四舍五入
	 * @param source
	 */
	transfPercentage: function (source) {
		return  NumberUtil.mul(source, 100);
	},
	//加法
    add: function (a, b) {
		var c, d, e;
		try {
			c = a.toString().split(".")[1].length;
		} catch (f) {
			c = 0;
		}
		try {
			d = b.toString().split(".")[1].length;
		} catch (f) {
			d = 0;
		}
		return e = Math.pow(10, Math.max(c, d)), (this.mul(a, e) + this.mul(b, e)) / e;
	},
    //减法
	sub: function (a, b) {
		var c, d, e;
		try {
			c = a.toString().split(".")[1].length;
		} catch (f) {
			c = 0;
		}
		try {
			d = b.toString().split(".")[1].length;
		} catch (f) {
			d = 0;
		}
		return e = Math.pow(10, Math.max(c, d)), (this.mul(a, e) - this.mul(b, e)) / e;
	},
    //乘法
	mul: function (a, b) {
		var c = 0,
			d = a.toString(),
			e = b.toString();
		try {
			c += d.split(".")[1].length;
		} catch (f) {}
		try {
			c += e.split(".")[1].length;
		} catch (f) {}
		return Number(d.replace(".", "")) * Number(e.replace(".", "")) / Math.pow(10, c);
	},
    //除法
	div: function (a, b) {
		var c, d, e = 0,
			f = 0;
		try {
			e = a.toString().split(".")[1].length;
		} catch (g) {}
		try {
			f = b.toString().split(".")[1].length;
		} catch (g) {}
		return c = Number(a.toString().replace(".", "")), d = Number(b.toString().replace(".", "")), this.mul(c / d, Math.pow(10, f - e));
	},
	/**两个数值求余运算*/
	mod: function (a, b) {
		var c, d;
		c = NumberUtil.div(a,b);
		c = c.toString().split(".")[0];
		d = NumberUtil.mul(b,c);
		return NumberUtil.sub(a,d);
	}
}
</script>
</body>
</html>
